import{o as n,c as r,b as e,H as A,L as C,u as L,r as a,a as i,w as g,F as _,d as c,n as I,g as m,I as D,f as d,t as h}from"./app.855c641a.js";import{A as H}from"./Admin.431200e5.js";import{G as M}from"./GachaCard.f790fcee.js";import{V as U,r as V,a as z}from"./ArrowLongUpIcon.e36d7da1.js";import{_ as B}from"./_plugin-vue_export-helper.cdc0426e.js";import"./toastify.707bfc8b.js";function N(o,t){return n(),r("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M11.47 4.72a.75.75 0 011.06 0l3.75 3.75a.75.75 0 01-1.06 1.06L12 6.31 8.78 9.53a.75.75 0 01-1.06-1.06l3.75-3.75zm-3.75 9.75a.75.75 0 011.06 0L12 17.69l3.22-3.22a.75.75 0 111.06 1.06l-3.75 3.75a.75.75 0 01-1.06 0l-3.75-3.75a.75.75 0 010-1.06z","clip-rule":"evenodd"})])}function j(o,t){return n(),r("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[e("path",{d:"M3.478 2.405a.75.75 0 00-.926.94l2.432 7.905H13.5a.75.75 0 010 1.5H4.984l-2.432 7.905a.75.75 0 00.926.94 60.519 60.519 0 0018.445-8.986.75.75 0 000-1.218A60.517 60.517 0 003.478 2.405z"})])}const F={components:{Head:A,AdminLayout:H,Link:C,GachaCard:M,draggable:U,ChevronUpDownIcon:N,ArrowLongUpIcon:V,ArrowLongDownIcon:z,PaperAirplaneIcon:j},props:{errors:Object,auth:Object,gachas:Object,category_share:Object},data(){return{enabled:!0,list:[],dragging:!1}},methods:{log(o){},levelUp(o){let t;for(t=1;t<this.list.length&&this.list[t].id!=o;t++);t<this.list.length&&this.arrayMove(t,t-1)},arrayMove(o,t){this.list.splice(t,0,this.list.splice(o,1)[0])},levelDown(o){let t;for(t=0;t<this.list.length-1&&this.list[t].id!=o;t++);t<this.list.length-1&&this.arrayMove(t,t+1)},submit(){this.form.gachas=this.list,this.form.post(route("admin.gacha.sorting.store"),{onFinish:()=>{}})}},setup(){return{form:L({gachas:[]})}},mounted(){this.list=this.gachas.data}},O={class:"mt-2"},P={class:"p-1 text-right"},S=["disabled"],G={class:"inline-block align-middle"},$=e("div",{class:"inline-block align-middle"},"\u4FDD\u5B58\u3059\u308B",-1),E={class:"flex mb-1"},T=["src"],q={class:"inline-block text-left align-middle"},J={key:0,class:"bg-green-600 rounded text-xs px-2 mx-1"},K={key:1,class:"bg-neutral-600 rounded text-xs px-2 mx-1"},Q=e("span",{class:"text-white text-sm"},"\u6B8B ",-1),R={class:"text-base"},W={class:"text-white text-xs"},X={key:0,class:"bg-red-600 rounded text-xs px-2 mx-1"},Y=e("span",{class:"text-sm"},"1\u56DE:",-1),Z={class:"inline-block align-middle h-full absolute top-0 right-2 flex items-center z-10"},tt=["onClick"],et=["onClick"];function st(o,t,ot,u,p,l){const x=a("Head"),b=a("PaperAirplaneIcon"),f=a("ArrowLongUpIcon"),v=a("ArrowLongDownIcon"),w=a("draggable"),k=a("AdminLayout");return n(),r(_,null,[i(x,{title:"\u30AC\u30C1\u30E3\u4E26\u3073\u66FF\u3048"}),i(k,null,{default:g(()=>[e("div",O,[e("div",P,[e("button",{onClick:t[0]||(t[0]=c(s=>l.submit(),["prevent"])),class:I([{"opacity-25":u.form.processing},"w-32 bg-cyan-600 hover:bg-cyan-700 text-white text-sm font-normal py-2 px-3 inline-block rounded"]),disabled:u.form.processing},[e("div",G,[i(b,{class:"w-5 h-5 mr-1"})]),m(),$],10,S)]),e("div",E,[i(w,{class:"dragArea list-group w-full",list:p.list,onChange:l.log},{default:g(()=>[(n(!0),r(_,null,D(p.list,s=>(n(),r("div",{class:"list-group-item bg-neutral-800 m-1 p-1 rounded-md text-left cursor-pointer text-white relative",key:s.name},[e("img",{src:s.thumbnail,class:"w-24 h-24 inline-block align-middle mr-2"},null,8,T),e("div",q,[e("div",null,[s.status==1?(n(),r("span",J,"\u516C\u958B")):d("",!0),s.status==0?(n(),r("span",K,"\u975E\u516C\u958B")):d("",!0)]),e("div",null,[Q,e("span",R,h(s.count_rest),1),e("span",W,"/"+h(s.count_card),1),s.count_rest==0?(n(),r("span",X,"Soldout")):d("",!0)]),e("div",null,[Y,m(),e("span",null,h(s.point)+" pt",1)])]),e("div",Z,[e("button",{onClick:c(y=>l.levelUp(s.id),["prevent"]),class:"bg-neutral-700 rounded p-1 mr-1 hover:bg-neutral-600"},[i(f,{class:"w-6 h-5 text-white block"})],8,tt),e("button",{onClick:c(y=>l.levelDown(s.id),["prevent"]),class:"bg-neutral-700 rounded p-1 mr-1 hover:bg-neutral-600"},[i(v,{class:"w-6 h-5 text-white block"})],8,et)])]))),128))]),_:1},8,["list","onChange"])])])]),_:1})],64)}const dt=B(F,[["render",st]]);export{dt as default};
