import{L as C,H as L,K as A,u as g,r as i,o as c,c as u,a as l,w as m,F as h,b as t,d as _,e as b,v as p,t as I,f as D,n as f,I as U}from"./app.0171795f.js";import{A as V}from"./Admin.e897bf8c.js";import{V as S,r as M,a as j}from"./ArrowLongUpIcon.71f35b1e.js";import{_ as F}from"./_plugin-vue_export-helper.cdc0426e.js";import"./toastify.a2349334.js";const H={components:{Link:C,Head:L,AdminLayout:V,draggable:S,ArrowLongUpIcon:M,ArrowLongDownIcon:j},props:{errors:Object,auth:Object,categories:Object},methods:{log(){},submit(){this.new_form.post(route("admin.category.store"),{onSuccess:()=>this.new_form.reset(),preserveScroll:!0})},destroy(r){confirm("\u524A\u9664\u3057\u3066\u3082\u3044\u3044\u3067\u3059\u304B\uFF1F")&&A.Inertia.delete(route("admin.category.destroy",r),{preserveScroll:!0})},levelUp(r){let e;for(e=1;e<this.categories.data.length&&this.categories.data[e].id!=r;e++);e<this.categories.data.length&&this.arrayMove(e,e-1)},arrayMove(r,e){this.categories.data.splice(e,0,this.categories.data.splice(r,1)[0])},levelDown(r){let e;for(e=0;e<this.categories.data.length-1&&this.categories.data[e].id!=r;e++);e<this.categories.data.length-1&&this.arrayMove(e,e+1)},submit_order(){this.order_form.categories=this.categories,console.log(this.categories),this.order_form.post(route("admin.category.sorting.store"),{preserveScroll:!0,onFinish:()=>{}})}},data(){return{open:!0,dragging:!1}},setup(r){const e=g({title:""}),s=g({categories:[]});return{new_form:e,order_form:s}},mounted(){}},N={class:"pt-6 md:px-2 px-4"},B=t("h1",{class:"mb-2 text-lg font-bold"},"\u30AB\u30C6\u30B4\u30EA\u30FC",-1),O=t("hr",{class:"mb-8"},null,-1),q={class:""},z={class:"m-auto min-w-full text-sm font-medium"},E={class:"border-t"},K={class:"border-b border-r border-l"},T=t("td",{class:"bg-neutral-200 px-3 py-2 whitespace-nowrap border-r w-32"},"\u30AB\u30C6\u30B4\u30EA\u30FC",-1),G={class:"font-light p-1 whitespace-nowrap"},J={key:0,class:"text-red-600 mt-1 text-center"},P={class:"text-center py-2"},Q=["disabled"],R=t("hr",{class:"my-4"},null,-1),W={class:"text-center pb-2"},X=t("div",{class:"border-b border-r border-l bg-neutral-200 p-2"}," \u30AB\u30C6\u30B4\u30EA\u30FC\u7DE8\u96C6 ",-1),Y={class:"flex mb-1"},Z={class:"flex-1 whitespace-nowrap h-full"},$=["onUpdate:modelValue"],ee={class:"align-middle h-full flex items-center z-10 gap-1"},te=["onClick"],oe=["onClick"],re=["onClick"],se={class:"p-1 flex justify-center"},ne=["disabled"],ae=t("div",{class:"inline-block"},"\u4FDD\u5B58",-1),ie=[ae];function le(r,e,s,n,de,a){const v=i("Head"),x=i("ArrowLongUpIcon"),w=i("ArrowLongDownIcon"),y=i("draggable"),k=i("AdminLayout");return c(),u(h,null,[l(v,{title:"\u30AB\u30C6\u30B4\u30EA\u30FC"}),l(k,null,{default:m(()=>[t("div",N,[B,O,t("div",q,[t("form",{onSubmit:e[1]||(e[1]=_(o=>a.submit(),["prevent"]))},[t("table",z,[t("tbody",E,[t("tr",K,[T,t("td",G,[b(t("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>n.new_form.title=o),type:"text",class:"bg-neutral-50 text-neutral-900 text-sm rounded-md border-neutral-300 block px-2 h-full w-full focus:border-blue-400 focus:ring focus:ring-blue-200 focus:ring-opacity-50",placeholder:"",required:""},null,512),[[p,n.new_form.title]]),s.errors.title?(c(),u("div",J,I(s.errors.title),1)):D("",!0)])])])]),t("div",P,[t("button",{type:"submit",class:f([{"opacity-25":n.order_form.processing},"w-32 bg-cyan-600 hover:bg-cyan-700 text-white text-sm font-normal py-2 px-3 inline-block rounded"]),disabled:n.order_form.processing}," \u8FFD\u52A0 ",10,Q)])],32)]),R,t("div",W,[X,t("div",Y,[l(y,{class:"w-full list-group",list:s.categories.data,onChange:a.log},{default:m(()=>[(c(!0),u(h,null,U(s.categories.data,o=>(c(),u("div",{class:"list-group-item m-1 rounded-md text-left cursor-pointer border h-12 border-neutral-500 flex items-center hover:bg-neutral-100 focus:bg-neutral-100 gap-2",key:o.id},[t("div",Z,[b(t("input",{"onUpdate:modelValue":d=>o.title=d,type:"text",class:"bg-neutral-50 text-neutral-900 text-sm rounded-l-md border-neutral-300 block px-2 h-full w-full focus:border-blue-400 focus:ring focus:ring-blue-200 focus:ring-opacity-50",placeholder:"",required:""},null,8,$),[[p,o.title]])]),t("div",ee,[t("button",{onClick:_(d=>a.levelUp(o.id),["prevent"]),class:"bg-neutral-700 rounded p-1 hover:bg-neutral-600"},[l(x,{class:"w-5 h-5 text-white block"})],8,te),t("button",{onClick:_(d=>a.levelDown(o.id),["prevent"]),class:"bg-neutral-700 rounded p-1 hover:bg-neutral-600"},[l(w,{class:"w-5 h-5 text-white block"})],8,oe)]),t("button",{onClick:d=>a.destroy(o.id),class:"bg-red-500 hover:bg-red-700 text-white text-sm font-normal py-1 px-2 mr-2 rounded"},"\u524A\u9664",8,re)]))),128))]),_:1},8,["list","onChange"])]),t("div",se,[t("button",{onClick:e[2]||(e[2]=_(o=>a.submit_order(),["prevent"])),class:f([{"opacity-25":n.order_form.processing},"w-32 bg-cyan-600 hover:bg-cyan-700 text-white text-sm font-normal py-2 px-3 inline-block rounded"]),disabled:n.order_form.processing},ie,10,ne)])])])]),_:1})],64)}const he=F(H,[["render",le]]);export{he as default};
