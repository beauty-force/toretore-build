import{o as d,c as u,b as t,H as P,K as U,h as V,u as j,r as m,a as l,w as h,F as g,I as D,d as q,e as f,v as p,t as n,a0 as N,f as b,n as O,g as c}from"./app.6864b6a8.js";import{A}from"./Admin.8528f254.js";import{_ as B}from"./_plugin-vue_export-helper.cdc0426e.js";import{N as R,d as S,U as z,o as F,f as E}from"./toastify.09383be6.js";function K(e,s){return d(),u("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"})])}function v(e,s){return d(),u("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})])}const G={components:{Head:P,AppLayout:A,Dialog:R,DialogPanel:S,DialogTitle:z,TransitionChild:F,TransitionRoot:E,PencilIcon:K,TrashIcon:v,TrashIcon:v},props:{errors:Object,ranks:Object},data(){return{url1:null,open:!1}},methods:{destroy_rank(e){confirm("\u524A\u9664\u3057\u3066\u3082\u3044\u3044\u3067\u3059\u304B\uFF1F")&&U.Inertia.delete(route("admin.rank.destroy",{id:e}))},modalOpen(e){e?(this.form.id=e.id,this.form.rank=e.rank,this.form.title=e.title,this.form.amount=e.amount,this.form.limit=e.limit,this.form.bonus=e.bonus,this.form.pt_rate=e.pt_rate,this.form.rankup=e.rankup,this.form.expiration=e.expiration,this.form.image="",this.url1=e.image):(this.form.id=0,this.form.rank="",this.form.title="",this.form.amount=0,this.form.limit=0,this.form.bonus=0,this.form.pt_rate=0,this.form.rankup=1,this.form.image="",this.form.expiration=0,this.url1=""),this.open=!0},submit(){this.$refs.photo1.files[0]&&(this.form.image=this.$refs.photo1.files[0]),this.form.rankup=="0"&&(this.form.pt_rate=0,this.form.expiration=0,this.form.limit=0),this.form.post(route("admin.rank.store"),{preserveScroll:!0,onFinish:()=>{V().props.value.flash.message&&(this.open=!1)}})},previewImage1(e){const s=e.target.files[0];this.url1=URL.createObjectURL(s)},pt_rate_string(e){return e.rankup==0?'<span class="text-[1.5em]">\u2014</span>':`${e.pt_rate}%`},format_number(e){return String(e).replace(/(.)(?=(\d{3})+$)/g,"$1,")},bonus_pt_string(e){return e.bonus==0?'<span class="text-[1.5em]">\u2014</span>':`${this.format_number(e.bonus)} PT`},expiration_string(e){return e.expiration==0?'<span class="text-[1.5em]">\u2014</span>':`${e.expiration}\u65E5`},limit_string(e){return e.limit==0?'<span class="text-[1.5em]">\u2014</span>':`${this.format_number(e.limit)} \u5186`}},setup(e){return{form:j({id:"",rank:"",title:"",amount:"",limit:"",expiration:"",bonus:"",pt_rate:"",rankup:"",image:""})}},mounted(){}},J={class:"pt-4 px-2 md:px-4 py-2"},Q=t("h1",{class:"mb-2 text-lg font-bold"},"\u30E9\u30F3\u30AF\u7279\u5178\u8A2D\u5B9A",-1),W=t("hr",{class:"mb-2"},null,-1),X={class:"w-full overflow-auto text-sm"},Y={class:"min-w-full mt-2 bg-white shadow rounded-lg"},Z=t("thead",null,[t("tr",{class:"bg-gray-200 whitespace-nowrap"},[t("th",{class:"p-2"},"\u30E9\u30F3\u30AF"),t("th",{class:"p-2"},"\u30E9\u30F3\u30AF\u540D"),t("th",{class:"p-2"},"\u8CFC\u5165\u6642PT\u4ED8\u4E0E"),t("th",{class:"p-2"},"\u5230\u9054\u91D1\u984D"),t("th",{class:"p-2"},"\u30DC\u30FC\u30CA\u30B9PT"),t("th",{class:"p-2"},"\u7DAD\u6301\u671F\u65E5"),t("th",{class:"p-2"},"\u7DAD\u6301\u91D1\u984D"),t("th")])],-1),$={class:"p-2 text-center"},tt={class:"p-2 text-center"},et=["innerHTML"],st={class:"p-2 text-center"},ot=["innerHTML"],rt=["innerHTML"],nt=["innerHTML"],at={class:"px-1 py-2 flex items-center justify-center gap-0.5"},it=["onClick"],lt=["onClick"],dt={class:"text-center my-6"},ut=t("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1),ct={class:"fixed inset-0 z-20 overflow-y-auto"},mt={class:"flex min-h-full items-center justify-center p-4 text-center sm:items-center sm:p-0"},ft={class:"mb-4"},pt=t("label",{for:"rank",class:"block font-medium text-sm text-neutral-700 mb-1"},[c("\u30E9\u30F3\u30AF\uFF08\u534A\u89D2\u6570\u5B57\uFF09"),t("span",{class:"text-red-500"},"*")],-1),ht={class:"text-red-500 text-sm mt-1"},_t={class:"mb-4"},bt=t("label",{for:"rankup",class:"block font-medium text-sm text-neutral-700 mb-1"},[c("\u7A2E\u985E"),t("span",{class:"text-red-500"},"*")],-1),xt=t("option",{value:"1"},"\u30E9\u30F3\u30AF",-1),gt=t("option",{value:"0"},"\u30DF\u30C9\u30EB\u30AE\u30D5\u30C8",-1),vt=[xt,gt],yt={class:"text-red-500 text-sm mt-1"},wt={class:"mb-4"},kt=t("label",{for:"title",class:"block font-medium text-sm text-neutral-700 mb-1"},[c("\u30E9\u30F3\u30AF\u540D"),t("span",{class:"text-red-500"},"*")],-1),Tt={class:"text-red-500 text-sm mt-1"},Lt={class:"mb-4"},Ct=t("label",{for:"amount",class:"block font-medium text-sm text-neutral-700 mb-1"},[c("\u30E9\u30F3\u30AF\u3078\u306E\u6607\u683C\u91D1\u984D \uFF08\u534A\u89D2\u6570\u5B57\uFF09"),t("span",{class:"text-red-500"},"*")],-1),Ht={class:"text-red-500 text-sm mt-1"},It={class:"mb-4"},Mt=t("label",{for:"bonus",class:"block font-medium text-sm text-neutral-700 mb-1"},[c("\u30DC\u30FC\u30CA\u30B9PT\uFF08\u534A\u89D2\u6570\u5B57\uFF09"),t("span",{class:"text-red-500"},"*")],-1),Pt={class:"text-red-500 text-sm mt-1"},Ut={key:0,class:"mb-4"},Vt=t("label",{for:"pt_rate",class:"block font-medium text-sm text-neutral-700 mb-1"},[c("\u8CFC\u5165\u6642PT\u4ED8\u4E0E\u7279\u5178 (%)"),t("span",{class:"text-red-500"},"*")],-1),jt={class:"text-red-500 text-sm mt-1"},Dt={key:1,class:"mb-4"},qt=t("label",{for:"expiration",class:"block font-medium text-sm text-neutral-700 mb-1"},[c("\u30E9\u30F3\u30AF\u7DAD\u6301\u671F\u65E5 "),t("span",{class:"text-red-500"},"*")],-1),Nt={class:"text-red-500 text-sm mt-1"},Ot={key:2,class:"mb-4"},At=t("label",{for:"limit",class:"block font-medium text-sm text-neutral-700 mb-1"},[c("\u30E9\u30F3\u30AF\u7DAD\u6301\u8CFC\u5165\u91D1\u984D\uFF08\u534A\u89D2\u6570\u5B57\uFF09"),t("span",{class:"text-red-500"},"*")],-1),Bt={class:"text-red-500 text-sm mt-1"},Rt={class:"mb-4"},St=t("label",{for:"file1-1",class:"block font-medium text-sm text-neutral-700 mb-1"},[c("\u30E9\u30F3\u30AF\u30D0\u30FC\u753B\u50CF "),t("span",{class:"text-red-500"},"*")],-1),zt={class:"text-center w-full"},Ft=["src"],Et={class:"text-red-500 text-sm mt-1"},Kt={class:"mb-6 text-center"},Gt=["disabled"];function Jt(e,s,a,r,_,i){const y=m("Head"),w=m("PencilIcon"),k=m("TrashIcon"),x=m("TransitionChild"),T=m("DialogPanel"),L=m("Dialog"),C=m("TransitionRoot"),H=m("AppLayout");return d(),u(g,null,[l(y,{title:"\u30E9\u30F3\u30AF\u7279\u5178\u8A2D\u5B9A"}),l(H,null,{default:h(()=>[t("div",J,[Q,W,t("div",X,[t("table",Y,[Z,t("tbody",null,[(d(!0),u(g,null,D(a.ranks,(o,I)=>(d(),u("tr",{key:I,class:"border-b"},[t("td",$,n(o.rank),1),t("td",tt,n(o.title),1),t("td",{class:"p-2 text-center",innerHTML:i.pt_rate_string(o)},null,8,et),t("td",st,n(i.format_number(o.amount))+" \u5186",1),t("td",{class:"p-2 text-center",innerHTML:i.bonus_pt_string(o)},null,8,ot),t("td",{class:"p-2 text-center",innerHTML:i.expiration_string(o)},null,8,rt),t("td",{class:"p-2 text-center",innerHTML:i.limit_string(o)},null,8,nt),t("td",at,[t("button",{type:"button",onClick:M=>i.modalOpen(o),class:"flex items-center justify-center w-9 h-9 rounded-full focus:outline-none hover:bg-sky-500 hover:text-white text-sky-500"},[l(w,{class:"h-5 w-5"})],8,it),t("button",{type:"button",onClick:M=>i.destroy_rank(o.id),class:"flex items-center justify-center w-9 h-9 rounded-full focus:outline-none hover:bg-rose-500 hover:text-white text-rose-500"},[l(k,{class:"h-5 w-5"})],8,lt)])]))),128))])])]),t("div",dt,[t("button",{type:"button",onClick:s[0]||(s[0]=o=>i.modalOpen(0)),class:"inline-block items-center px-10 py-2.5 bg-cyan-500 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-cyan-700 active:bg-cyan-700 focus:outline-none focus:border-cyan-700 focus:shadow-outline-cyan transition ease-in-out duration-150 mr-2"}," \u8FFD\u52A0 ")])]),t("template",null,[l(C,{as:"template",show:_.open},{default:h(()=>[l(L,{as:"div",class:"relative z-20",onClose:s[12]||(s[12]=o=>_.open=!1)},{default:h(()=>[l(x,{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:h(()=>[ut]),_:1}),t("div",ct,[t("div",mt,[l(x,{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:h(()=>[l(T,{class:"p-3 relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg"},{default:h(()=>[t("form",{onSubmit:s[11]||(s[11]=q(o=>i.submit(),["prevent"]))},[t("div",ft,[pt,f(t("input",{"onUpdate:modelValue":s[1]||(s[1]=o=>r.form.rank=o),id:"rank",type:"number",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",required:""},null,512),[[p,r.form.rank]]),t("div",ht,n(a.errors.rank),1)]),t("div",_t,[bt,f(t("select",{"onUpdate:modelValue":s[2]||(s[2]=o=>r.form.rankup=o),id:"rankup",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",required:""},vt,512),[[N,r.form.rankup]]),t("div",yt,n(a.errors.rankup),1)]),t("div",wt,[kt,f(t("input",{"onUpdate:modelValue":s[3]||(s[3]=o=>r.form.title=o),id:"title",type:"text",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",required:""},null,512),[[p,r.form.title]]),t("div",Tt,n(a.errors.title),1)]),t("div",Lt,[Ct,f(t("input",{"onUpdate:modelValue":s[4]||(s[4]=o=>r.form.amount=o),id:"amount",type:"number",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",required:""},null,512),[[p,r.form.amount]]),t("div",Ht,n(a.errors.amount),1)]),t("div",It,[Mt,f(t("input",{"onUpdate:modelValue":s[5]||(s[5]=o=>r.form.bonus=o),id:"bonus",type:"number",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",required:""},null,512),[[p,r.form.bonus]]),t("div",Pt,n(a.errors.bonus),1)]),r.form.rankup=="1"?(d(),u("div",Ut,[Vt,f(t("input",{"onUpdate:modelValue":s[6]||(s[6]=o=>r.form.pt_rate=o),id:"pt_rate",type:"number",min:"0",step:"0.01",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",required:""},null,512),[[p,r.form.pt_rate]]),t("div",jt,n(a.errors.pt_rate),1)])):b("",!0),r.form.rankup=="1"?(d(),u("div",Dt,[qt,f(t("input",{"onUpdate:modelValue":s[7]||(s[7]=o=>r.form.expiration=o),id:"expiration",type:"number",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",required:""},null,512),[[p,r.form.expiration]]),t("div",Nt,n(a.errors.expiration),1)])):b("",!0),r.form.rankup=="1"?(d(),u("div",Ot,[At,f(t("input",{"onUpdate:modelValue":s[8]||(s[8]=o=>r.form.limit=o),id:"limit",type:"number",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",required:""},null,512),[[p,r.form.limit]]),t("div",Bt,n(a.errors.limit),1)])):b("",!0),t("div",Rt,[St,t("div",zt,[_.url1?(d(),u("img",{key:0,src:_.url1,class:"inline-block mt-4 h-24"},null,8,Ft)):b("",!0)]),t("input",{onChange:s[9]||(s[9]=(...o)=>i.previewImage1&&i.previewImage1(...o)),ref:"photo1",id:"file1-1",type:"file",class:"w-full"},null,544),t("div",Et,n(a.errors.image),1)]),t("div",Kt,[t("button",{type:"submit",class:O([{"opacity-25":r.form.processing},"inline-block items-center px-8 py-2.5 bg-green-500 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-green-700 active:bg-green-700 focus:outline-none focus:border-green-700 focus:shadow-outline-green transition ease-in-out duration-150 mr-2"]),disabled:r.form.processing}," \u4FDD\u5B58 ",10,Gt),t("button",{type:"button",onClick:s[10]||(s[10]=o=>_.open=!1),class:"inline-block items-center px-8 py-2.5 bg-red-500 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-red-700 active:bg-red-700 focus:outline-none focus:border-red-700 focus:shadow-outline-red transition ease-in-out duration-150"}," \u30AD\u30E3\u30F3\u30BB\u30EB ")])],32)]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])]),_:1})],64)}const Zt=B(G,[["render",Jt]]);export{Zt as default};
