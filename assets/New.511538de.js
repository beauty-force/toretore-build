import{H as V,L as U,h as L,u as M,r as _,o as a,i as N,w as b,b as t,c as i,d as O,e as c,v as f,t as d,f as l,M as A,I as x,F as h,a as p,g as m}from"./app.6e3dd78d.js";import{A as D}from"./Admin.fb22b722.js";import{K as j}from"./main.704dba50.js";import{_ as B}from"./_plugin-vue_export-helper.cdc0426e.js";import"./toastify.41dd7e49.js";import"./isNativeReflectConstruct.c26161b4.js";const C={components:{Head:V,AdminLayout:D,Link:U,VueDatePicker:j},props:{errors:Object,auth:Object,coupon:Object,editing:Object,types:Object,points:Array},methods:{submit(){this.form.post(route("admin.coupon.store"))}},computed:{flash(){return L().props.value.flash}},watch:{flash:function(s,r){var e;this.form.title=s.data.title,this.form.code=s.data.code,this.form.type=s.data.type,this.form.point=s.data.point,this.form.discount_rate=s.data.discount_rate,this.form.expiration=s.data.expiration,this.form.user_limit=s.data.user_limit,this.form.new_user_days=(e=s.data.new_user_days)!=null?e:0}},setup(s){var e;return{form:M({id:s.coupon.id,title:s.coupon.title,code:s.coupon.code,point:s.coupon.point,expiration:s.coupon.expiration,user_limit:s.coupon.user_limit,discount_rate:s.coupon.discount_rate.map(o=>o.rate),type:s.coupon.type,new_user_days:(e=s.coupon.new_user_days)!=null?e:0})}}},H={class:"pt-6 md:px-2 px-4"},P={key:0,class:"mb-2 text-lg font-bold"},S={key:1,class:"mb-2 text-lg font-bold"},F=t("hr",{class:"mb-8"},null,-1),T={class:"mb-6"},I=t("label",{for:"title",class:"block font-medium text-sm text-neutral-700 mb-2 ml-1"},[m("\u304A\u540D\u524D (\u30C6\u30AD\u30B9\u30C8) "),t("span",{class:"text-red-500"},"*")],-1),K={key:0,class:"text-red-500 text-sm mt-1"},E={class:"mb-6"},R=t("label",{for:"code",class:"block font-medium text-sm text-neutral-700 mb-2 ml-1"},[m("\u30B3\u30FC\u30C9(\u30C6\u30AD\u30B9\u30C8) "),t("span",{class:"text-red-500"},"*")],-1),Y={key:0,class:"text-red-500 text-sm mt-1"},q={class:"mb-6"},z=t("label",{for:"type",class:"block font-medium text-sm text-neutral-700 mb-2 ml-1"},[m("\u7A2E\u985E "),t("span",{class:"text-red-500"},"*")],-1),G=["value"],J={key:0,class:"mb-6"},Q=t("label",{for:"point",class:"block font-medium text-sm text-neutral-700 mb-2 ml-1"},[m("\u30DD\u30A4\u30F3\u30C8 (\u534A\u89D2\u6570\u5B57) "),t("span",{class:"text-red-500"},"*")],-1),W={key:0,class:"text-red-500 text-sm mt-1"},X={key:1,class:"text-red-500 text-sm mt-1"},Z={class:"mb-6"},$=["for"],tt=t("span",{class:"text-red-500"},"*",-1),et=["onUpdate:modelValue","id"],ot={key:0,class:"text-red-500 text-sm mt-1"},st={class:"mb-6"},rt=t("label",{for:"expiration",class:"block font-medium text-sm text-neutral-700 mb-2 ml-1"},[m("\u6709\u52B9\u671F\u9650 "),t("span",{class:"text-red-500"},"*")],-1),nt={key:0,class:"text-red-500 text-sm mt-1"},at={class:"mb-6"},it=t("label",{for:"user_limit",class:"block font-medium text-sm text-neutral-700 mb-2 ml-1"},[m("\u4EBA\u6570\u4E0A\u9650 (\u534A\u89D2\u6570\u5B57) "),t("span",{class:"text-red-500"},"*")],-1),dt={key:0,class:"text-red-500 text-sm mt-1"},lt={class:"mb-6"},ut=t("label",{for:"new_user_days",class:"block font-medium text-sm text-neutral-700 mb-2 ml-1"},"\u65B0\u898F\u767B\u9332\u8005\u9650\u5B9A\uFF08\u65E5\u6570\uFF09",-1),ct=t("div",{class:"text-sm text-neutral-500 mt-1"},"\u767B\u9332\u304B\u3089\u6307\u5B9A\u65E5\u6570\u4EE5\u5185\u306E\u30E6\u30FC\u30B6\u30FC\u306E\u307F\u5229\u7528\u53EF\u80FD\uFF080\u306F\u5236\u9650\u306A\u3057\uFF09",-1),mt={key:0,class:"text-red-500 text-sm mt-1"},ft={class:"flex gap-4"},_t=t("div",{class:"w-1/2"},[t("button",{type:"submit",class:"inline-block items-center w-full py-2.5 bg-teal-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-teal-700 active:bg-green-700 transition ease-in-out duration-150"}," \u4FDD\u5B58 ")],-1),bt={class:"w-1/2"};function xt(s,r,e,o,ht,y){const g=_("VueDatePicker"),v=_("Link"),w=_("AdminLayout");return a(),N(w,null,{default:b(()=>[t("div",H,[e.editing?(a(),i("h1",P,"\u30DD\u30A4\u30F3\u30C8\u914D\u5E03\u7DE8\u96C6")):(a(),i("h1",S,"\u30DD\u30A4\u30F3\u30C8\u914D\u5E03\u8FFD\u52A0")),F,t("form",{onSubmit:r[8]||(r[8]=O(n=>y.submit(),["prevent"]))},[c(t("input",{"onUpdate:modelValue":r[0]||(r[0]=n=>o.form.id=n),class:"hidden"},null,512),[[f,o.form.id]]),t("div",T,[I,c(t("input",{"onUpdate:modelValue":r[1]||(r[1]=n=>o.form.title=n),id:"title",type:"text",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",placeholder:"\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044"},null,512),[[f,o.form.title]]),e.errors.title?(a(),i("div",K,d(e.errors.title),1)):l("",!0)]),t("div",E,[R,c(t("input",{"onUpdate:modelValue":r[2]||(r[2]=n=>o.form.code=n),id:"code",type:"text",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",placeholder:"\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044"},null,512),[[f,o.form.code]]),e.errors.code?(a(),i("div",Y,d(e.errors.code),1)):l("",!0)]),t("div",q,[z,c(t("select",{"onUpdate:modelValue":r[3]||(r[3]=n=>o.form.type=n),id:"type",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300"},[(a(!0),i(h,null,x(e.types,(n,u)=>(a(),i("option",{value:u},d(n),9,G))),256))],512),[[A,o.form.type]])]),o.form.type=="NORMAL"?(a(),i("div",J,[Q,c(t("input",{"onUpdate:modelValue":r[4]||(r[4]=n=>o.form.point=n),id:"point",type:"number",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",placeholder:"\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044"},null,512),[[f,o.form.point]]),e.errors.point?(a(),i("div",W,d(e.errors.point),1)):l("",!0)])):l("",!0),e.errors.discount_rate?(a(),i("div",X,d(e.errors.discount_rate),1)):l("",!0),o.form.type=="DISCOUNT"?(a(!0),i(h,{key:2},x(e.points,(n,u)=>(a(),i("div",Z,[t("label",{for:"discount_rate"+u,class:"block font-medium text-sm text-neutral-700 mb-2 ml-1"},[m(d(n.point)+" pt - \u5272\u5F15\u7387 (\u534A\u89D2\u6570\u5B57) ",1),tt],8,$),c(t("input",{"onUpdate:modelValue":k=>o.form.discount_rate[u]=k,id:"discount_rate"+u,type:"number",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",placeholder:"\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044"},null,8,et),[[f,o.form.discount_rate[u]]]),e.errors[`discount_rate.${u}`]?(a(),i("div",ot,d(e.errors[`discount_rate.${u}`]),1)):l("",!0)]))),256)):l("",!0),t("div",st,[rt,p(g,{modelValue:o.form.expiration,"onUpdate:modelValue":r[5]||(r[5]=n=>o.form.expiration=n),format:"Y-MM-dd HH:mm"},null,8,["modelValue"]),e.errors.expiration?(a(),i("div",nt,d(e.errors.expiration),1)):l("",!0)]),t("div",at,[it,c(t("input",{"onUpdate:modelValue":r[6]||(r[6]=n=>o.form.user_limit=n),id:"user_limit",type:"number",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",placeholder:"\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044"},null,512),[[f,o.form.user_limit]]),e.errors.user_limit?(a(),i("div",dt,d(e.errors.user_limit),1)):l("",!0)]),t("div",lt,[ut,c(t("input",{"onUpdate:modelValue":r[7]||(r[7]=n=>o.form.new_user_days=n),id:"new_user_days",type:"number",min:"0",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",placeholder:"0\u306F\u5236\u9650\u306A\u3057"},null,512),[[f,o.form.new_user_days]]),ct,e.errors.new_user_days?(a(),i("div",mt,d(e.errors.new_user_days),1)):l("",!0)]),t("div",ft,[_t,t("div",bt,[p(v,{href:s.route("admin.coupon"),class:"text-center inline-block items-center w-full py-2.5 bg-cyan-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-cyan-700 transition ease-in-out duration-150",as:"button"},{default:b(()=>[m(" \u623B\u308B ")]),_:1},8,["href"])])])],32)])]),_:1})}const Vt=B(C,[["render",xt]]);export{Vt as default};
