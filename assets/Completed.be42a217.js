import{H as j,L as C,u as L,r as d,o as l,c as i,a as _,w as f,F as p,b as t,I as b,f as u,t as s,n as m,i as P,g as N}from"./app.4cd50a90.js";import{A as O}from"./Admin.01f3abb4.js";import{P as A}from"./Pagination.8088897c.js";import{_ as B}from"./_plugin-vue_export-helper.cdc0426e.js";import{r as F}from"./ChevronRightIcon.2889129a.js";import"./toastify.89a61c46.js";import"./EllipsisHorizontalIcon.90bb6a9c.js";const H={components:{Head:j,AdminLayout:O,Link:C,ChevronRightIcon:F,Pagination:A},props:{errors:Object,gacha:Object,category_share:Object,products:Object,total:Number,search_cond:Object},data(){return{main_tab:[{title:"\u672A\u767A\u9001",route_url:route("admin.delivery"),is_active:!1},{title:"\u767A\u9001\u6E08\u307F",route_url:route("admin.delivery.completed"),is_active:!0}],page_step:0,is_busy:!1,profile:{},product:{},user:{}}},setup(r){let c={},o;for(o=0;o<r.products.data.length;o++)c["id"+r.products.data[o].id]=!1;return{form:L({id:0})}},methods:{showProductDetail(r){this.is_busy=!0;const c={id:r.id};axios.post(route("admin.delivery.product_data"),c).then(o=>{(o.status==201||o.status==200)&&o.data.status&&(this.profile=o.data.profile,this.user=o.data.user,this.product=r,this.page_step=1),this.is_busy=!1}).catch(o=>{this.is_busy=!0,console.log(o)})},backToList(){this.page_step=0},submit(r){this.form.id=r,this.form.post(route("admin.delivery.un_delivery"),{onFinish:()=>{this.page_step=0}})}}},I={key:0,class:"pt-6 md:px-2 px-4 mb-6",style:{"min-height":"400px"}},V=t("h1",{class:"mb-2 text-lg font-bold"},"\u914D\u9001\u5546\u54C1",-1),D=t("hr",{class:"mb-3"},null,-1),R={class:"w-full text-neutral-400 mb-3"},S={class:"mb-6"},T={class:"mb-0 border-neutral-200 border-b"},z=["onClick"],E={class:"inline-flex items-center justify-center w-16"},q={class:"relative inline-block max-w-full max-h-full"},G=["src"],J={key:0,src:"/images/psa10.png",class:"absolute bottom-2 left-1/2 transform -translate-x-1/2 object-contain pointer-events-none",style:{width:"95%"}},K={class:"cursor-pointer h-20 flex items-center justify-between flex-1 text-xs py-1 px-2"},M={class:"text-left"},Q={class:"text-red-500"},U={class:"text-neutral-300"},W={key:1,class:"pt-6 md:px-2 px-4 mb-6",style:{"min-height":"400px"}},X=t("h2",{class:"mb-2 text-lg font-bold"},"\u914D\u9001\u6E08\u307F\u5546\u54C1\u8A73\u7D30",-1),Y=t("hr",{class:"mb-3"},null,-1),Z={class:"mb-6"},$={class:"flex border-neutral-200 items-center w-full"},tt={class:"inline-flex items-center justify-center w-14"},et={class:"relative inline-block max-w-full max-h-full"},st=["src"],ot={key:0,src:"/images/psa10.png",class:"absolute bottom-1 left-1/2 transform -translate-x-1/2 object-contain pointer-events-none",style:{width:"95%"}},nt={class:"cursor-pointer h-16 flex items-center justify-between flex-1 text-xs py-1 px-2"},lt={class:"w-full"},it={class:"text-red-500"},rt=t("div",{class:"mb-1 text-base font-semibold"},"\u914D\u9001\u5148\u60C5\u5831",-1),ct=t("hr",{class:"mb-3"},null,-1),at={class:"w-full mb-6"},dt={class:"w-full text-sm"},ut=t("td",{class:"p-1 w-2/5 font-bold"},"\u30A2\u30C9\u30EC\u30B9",-1),_t={class:"p-1 w-3/5"},pt=t("td",{class:"p-1 w-2/5 font-bold"},"\u540D\u524D",-1),ht={class:"p-1 w-3/5"},mt=t("td",{class:"p-1 w-2/5 font-bold"},"\u540D\u524D(\u30AB\u30CA)",-1),ft={class:"p-1 w-3/5"},bt=t("td",{class:"p-1 w-2/5 font-bold"},"\u90F5\u4FBF\u756A\u53F7",-1),xt={class:"p-1 w-3/5"},gt=t("td",{class:"p-1 w-2/5 font-bold"},"\u90FD\u9053\u5E9C\u770C",-1),vt={class:"p-1 w-3/5"},wt=t("td",{class:"p-1 w-2/5 font-bold"},"\u4F4F\u6240",-1),yt={class:"p-1 w-3/5"},kt=t("td",{class:"p-1 w-2/5 font-bold"},"\u96FB\u8A71\u756A\u53F7",-1),jt={class:"p-1 w-3/5"},Ct={class:"mb-6 w-full text-center"},Lt=["disabled"],Pt=["disabled"];function Nt(r,c,o,a,e,h){const x=d("Head"),g=d("Link"),v=d("ChevronRightIcon"),w=d("Pagination"),y=d("AdminLayout");return l(),i(p,null,[_(x,{title:"\u914D\u9001\u5546\u54C1"}),_(y,null,{default:f(()=>[e.page_step==0?(l(),i("div",I,[V,D,t("div",R,[(l(!0),i(p,null,b(e.main_tab,(n,k)=>(l(),P(g,{href:n.route_url,class:m(["inline-block px-4 py-1.5",{"border-b-2 border-red-600 text-red-600":n.is_active}])},{default:f(()=>[N(s(n.title),1)]),_:2},1032,["href","class"]))),256))]),t("div",S,[(l(!0),i(p,null,b(o.products.data,(n,k)=>(l(),i("div",T,[t("button",{onClick:Ot=>h.showProductDetail(n),class:"flex border-neutral-200 items-center w-full py-2"},[t("div",E,[t("div",q,[t("img",{src:n.image,class:"max-w-full max-h-full w-auto h-auto object-contain"},null,8,G),n.badge==1?(l(),i("img",J)):u("",!0)])]),t("div",K,[t("div",M,[t("div",null,s(n.name),1),t("div",null,s(n.rare),1),t("div",Q,s(n.point.toLocaleString())+"pt",1),t("div",null,s(n.updated_at),1),t("div",null,s(n.address),1)]),t("div",U,[_(v,{class:"w-5"})])])],8,z)]))),256))]),_(w,{search_cond:o.search_cond,route_name:"admin.delivery.completed",total:o.total},null,8,["search_cond","total"])])):u("",!0),e.page_step==1?(l(),i("div",W,[X,Y,t("div",Z,[t("div",$,[t("div",tt,[t("div",et,[t("img",{src:e.product.image,class:"max-w-full max-h-full w-auto h-auto object-contain"},null,8,st),e.product.badge==1?(l(),i("img",ot)):u("",!0)])]),t("div",nt,[t("div",lt,[t("div",null,s(e.product.name),1),t("div",null,s(e.product.rare),1),t("div",it,s(e.product.point.toLocaleString())+"pt",1)])])])]),rt,ct,t("div",at,[t("table",dt,[t("tr",null,[ut,t("td",_t,s(e.user.email),1)]),e.profile?(l(),i(p,{key:0},[t("tr",null,[pt,t("td",ht,s(e.profile.first_name)+" "+s(e.profile.last_name),1)]),t("tr",null,[mt,t("td",ft,s(e.profile.first_name_gana)+" "+s(e.profile.last_name_gana),1)]),t("tr",null,[bt,t("td",xt,s(e.profile.postal_code),1)]),t("tr",null,[gt,t("td",vt,s(e.profile.prefecture),1)]),t("tr",null,[wt,t("td",yt,s(e.profile.address),1)]),t("tr",null,[kt,t("td",jt,s(e.profile.phone),1)])],64)):u("",!0)])]),t("div",Ct,[t("button",{type:"button",onClick:c[0]||(c[0]=n=>h.backToList()),class:m([{"opacity-25":a.form.processing},"inline-block items-center px-8 py-2.5 bg-neutral-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-neutral-700 active:bg-neutral-700 focus:outline-none focus:border-neutral-700 focus:shadow-outline-neutral transition ease-in-out duration-150 m-1"]),disabled:a.form.processing}," \u30EA\u30B9\u30C8\u3078 ",10,Lt),t("button",{type:"button",onClick:c[1]||(c[1]=n=>h.submit(e.product.id)),class:m([{"opacity-25":a.form.processing},"inline-block items-center px-8 py-2.5 bg-neutral-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-neutral-700 active:bg-neutral-700 focus:outline-none focus:border-neutral-700 focus:shadow-outline-neutral transition ease-in-out duration-150 m-1"]),disabled:a.form.processing}," \u672A\u767A\u9001\u306B\u623B\u3059 ",10,Pt)])])):u("",!0)]),_:1})],64)}const Rt=B(H,[["render",Nt]]);export{Rt as default};
