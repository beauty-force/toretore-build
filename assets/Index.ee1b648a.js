import{H as C,L,u as j,r as a,o as r,c,a as _,w as b,F as u,b as t,I as f,f as h,t as s,n as m,i as P,g as I}from"./app.ce11f4a4.js";import{A as N}from"./Admin.4bc4a618.js";import{P as O}from"./Pagination.0a1e0ca2.js";import{_ as A}from"./_plugin-vue_export-helper.cdc0426e.js";import{r as B}from"./ChevronRightIcon.0dd951d0.js";import"./toastify.1446bdbe.js";import"./EllipsisHorizontalIcon.f32163a5.js";const F={components:{Head:C,AdminLayout:N,Link:L,ChevronRightIcon:B,Pagination:O},props:{errors:Object,gacha:Object,category_share:Object,products:Object,total:Number,search_cond:Object},data(){return{hasCheck:!1,main_tab:[{title:"\u672A\u767A\u9001",route_url:route("admin.delivery"),is_active:!0},{title:"\u767A\u9001\u6E08\u307F",route_url:route("admin.delivery.completed"),is_active:!1}],page_step:0,is_busy:!1,profile:{},product:{},user:{}}},setup(i){let l={},o;for(o=0;o<i.products.data.length;o++)l["id"+i.products.data[o].id]=!1;return{form:j({id:0})}},methods:{showProductDetail(i){this.is_busy=!0;const l={id:i.id};axios.post(route("admin.delivery.product_data"),l).then(o=>{(o.status==201||o.status==200)&&(console.log(o),o.data.status&&(this.profile=o.data.profile,this.user=o.data.user,this.product=i,this.page_step=1)),this.is_busy=!1}).catch(o=>{this.is_busy=!0,console.log(o)})},backToList(){this.page_step=0},submit(i){this.form.id=i,this.form.post(route("admin.delivery.post"),{onFinish:()=>{this.page_step=0}})}}},H={key:0,class:"pt-6 md:px-2 px-4 mb-6",style:{"min-height":"400px"}},V=t("h1",{class:"mb-2 text-lg font-bold"},"\u914D\u9001\u5546\u54C1",-1),D=t("hr",{class:"mb-3"},null,-1),R={class:"w-full text-neutral-400 mb-3"},T={class:"mb-6"},z={class:"mb-0 border-neutral-200 border-b"},E=["onClick"],S=["src"],q={class:"cursor-pointer h-20 flex items-center justify-between flex-1 text-xs py-1 px-2"},G={class:"text-left"},J={class:"text-red-500"},K={class:"text-neutral-300"},M={key:1,class:"pt-6 md:px-2 px-4 mb-6",style:{"min-height":"400px"}},Q=t("h2",{class:"mb-2 text-lg font-bold"},"\u914D\u9001\u5546\u54C1\u8A73\u7D30",-1),U=t("hr",{class:"mb-3"},null,-1),W={class:"mb-6"},X={class:"flex border-neutral-200 items-center w-full"},Y=["src"],Z={class:"cursor-pointer h-12 flex items-center justify-between flex-1 text-xs py-1 px-2"},$={class:"w-full"},tt={class:"text-red-500"},et=t("div",{class:"mb-1 text-base font-semibold"},"\u914D\u9001\u5148\u60C5\u5831",-1),st=t("hr",{class:"mb-3"},null,-1),ot={class:"w-full mb-6"},nt={class:"w-full text-sm"},it=t("td",{class:"p-1 w-2/5 font-bold"},"\u30A2\u30C9\u30EC\u30B9",-1),lt={class:"p-1 w-3/5"},rt=t("td",{class:"p-1 w-2/5 font-bold"},"\u540D\u524D",-1),ct={class:"p-1 w-3/5"},dt=t("td",{class:"p-1 w-2/5 font-bold"},"\u540D\u524D(\u30AB\u30CA)",-1),at={class:"p-1 w-3/5"},_t=t("td",{class:"p-1 w-2/5 font-bold"},"\u90F5\u4FBF\u756A\u53F7",-1),ut={class:"p-1 w-3/5"},pt=t("td",{class:"p-1 w-2/5 font-bold"},"\u90FD\u9053\u5E9C\u770C",-1),ht={class:"p-1 w-3/5"},mt=t("td",{class:"p-1 w-2/5 font-bold"},"\u4F4F\u6240",-1),bt={class:"p-1 w-3/5"},ft=t("td",{class:"p-1 w-2/5 font-bold"},"\u96FB\u8A71\u756A\u53F7",-1),xt={class:"p-1 w-3/5"},gt=t("td",{class:"p-1 w-2/5 font-bold"},"\u4F9D\u983C\u3055\u308C\u305F\u65E5\u6642",-1),vt={class:"p-1 w-3/5"},wt={class:"mb-6 w-full text-center"},yt=["disabled"],kt=["disabled"];function Ct(i,l,o,d,e,p){const x=a("Head"),g=a("Link"),v=a("ChevronRightIcon"),w=a("Pagination"),y=a("AdminLayout");return r(),c(u,null,[_(x,{title:"\u914D\u9001\u5546\u54C1"}),_(y,null,{default:b(()=>[e.page_step==0?(r(),c("div",H,[V,D,t("div",R,[(r(!0),c(u,null,f(e.main_tab,(n,k)=>(r(),P(g,{href:n.route_url,class:m(["inline-block px-4 py-1.5",{"border-b-2 border-red-600 text-red-600":n.is_active}])},{default:b(()=>[I(s(n.title),1)]),_:2},1032,["href","class"]))),256))]),t("div",T,[(r(!0),c(u,null,f(o.products.data,(n,k)=>(r(),c("div",z,[t("button",{onClick:Lt=>p.showProductDetail(n),class:"flex border-neutral-200 items-center w-full py-1"},[t("img",{src:n.image,class:"w-20 h-20 inline-block object-contain"},null,8,S),t("div",q,[t("div",G,[t("div",null,s(n.name),1),t("div",null,s(n.rare),1),t("div",J,s(n.point)+"pt",1),t("div",null,s(n.updated_at),1),t("div",null,s(n.address),1)]),t("div",K,[_(v,{class:"w-5"})])])],8,E)]))),256))]),_(w,{search_cond:o.search_cond,route_name:"admin.delivery",total:o.total},null,8,["search_cond","total"])])):h("",!0),e.page_step==1?(r(),c("div",M,[Q,U,t("div",W,[t("div",X,[t("img",{src:e.product.image,class:"w-12 h-12 inline-block object-contain"},null,8,Y),t("div",Z,[t("div",$,[t("div",null,s(e.product.name),1),t("div",null,s(e.product.rare),1),t("div",tt,s(e.product.point)+"pt",1)])])])]),et,st,t("div",ot,[t("table",nt,[t("tr",null,[it,t("td",lt,s(e.user.email),1)]),e.profile?(r(),c(u,{key:0},[t("tr",null,[rt,t("td",ct,s(e.profile.first_name)+" "+s(e.profile.last_name),1)]),t("tr",null,[dt,t("td",at,s(e.profile.first_name_gana)+" "+s(e.profile.last_name_gana),1)]),t("tr",null,[_t,t("td",ut,s(e.profile.postal_code),1)]),t("tr",null,[pt,t("td",ht,s(e.profile.prefecture),1)]),t("tr",null,[mt,t("td",bt,s(e.profile.address),1)]),t("tr",null,[ft,t("td",xt,s(e.profile.phone),1)]),t("tr",null,[gt,t("td",vt,s(e.product.updated_at_time)+"("+s(e.product.updated_at)+")",1)])],64)):h("",!0)])]),t("div",wt,[t("button",{type:"button",onClick:l[0]||(l[0]=n=>p.backToList()),class:m([{"opacity-25":d.form.processing},"inline-block items-center px-8 py-2.5 bg-neutral-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-neutral-700 active:bg-neutral-700 focus:outline-none focus:border-neutral-700 focus:shadow-outline-neutral transition ease-in-out duration-150 m-1"]),disabled:d.form.processing}," \u30EA\u30B9\u30C8\u3078 ",10,yt),t("button",{type:"button",onClick:l[1]||(l[1]=n=>p.submit(e.product.id)),class:m([{"opacity-25":d.form.processing},"inline-block items-center px-8 py-2.5 bg-red-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-red-700 active:bg-red-700 focus:outline-none focus:border-red-700 focus:shadow-outline-red transition ease-in-out duration-150 m-1"]),disabled:d.form.processing}," \u914D\u9001\u6E08\u307F\u306B\u3059\u308B ",10,kt)])])):h("",!0)]),_:1})],64)}const Ft=A(F,[["render",Ct]]);export{Ft as default};
