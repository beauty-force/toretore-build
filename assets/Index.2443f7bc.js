import{H as C,L as j,u as L,r as x,o as c,c as d,a as f,w as m,F as u,b as e,I as y,g as a,n as b,f as _,t as l,i as O,e as F,a1 as A}from"./app.c7e9a5c5.js";import{A as B}from"./Admin.88ab986b.js";import{_ as H}from"./_plugin-vue_export-helper.cdc0426e.js";import"./toastify.6992c641.js";const I={components:{Head:C,AdminLayout:B,Link:j},props:{errors:Object,gacha:Object,category_share:Object,products:Object,profile:Object},data(){return{hasCheck:!1,main_tab:[{title:"\u672A\u9078\u629E",route_url:route("user.products"),is_active:!0},{title:"\u767A\u9001\u5F85\u3061",route_url:route("user.products.wait"),is_active:!1},{title:"\u767A\u9001\u6E08\u307F",route_url:route("user.products.delivered"),is_active:!1}],ready_delivery:0,products_count:0}},watch:{flash:function(n,t){n.data&&(n.data.delivery_result&&n.data.delivery_result=="fail"&&(this.ready_delivery=1),n.data.delivery_result&&n.data.delivery_result=="success"&&(this.ready_delivery=2))}},setup(n){let t={},r;for(r=0;r<n.products.data.length;r++)t["id"+n.products.data[r].id]=!1;return{form:L({checks:t})}},methods:{changeCheck(){let n,t=!1;for(n=0;n<this.products.data.length;n++)if(this.form.checks["id"+this.products.data[n].id]){t=!0;break}this.hasCheck=t},submit(n){let t,r=0;var o=0;for(t=0;t<this.products.data.length;t++)this.form.checks["id"+this.products.data[t].id]&&(r++,o=parseInt(o)+parseInt(this.products.data[t].point));if(n=="point")o>0&&confirm("\u4EA4\u63DB\u3057\u307E\u3059\u304B\uFF1F \u9078\u629E\u3057\u305F"+r+"\u70B9\u306E\u5546\u54C1\u3092"+o+"pt\u3068\u4EA4\u63DB\u3057\u307E\u3059\u3002")&&this.form.post(route("user.products.point.exchange"),{onFinish:()=>{}});else{if(o<1e3){alert("\u767A\u9001\u306F\uFF11\uFF10\uFF10\uFF10\u30DD\u30A4\u30F3\u30C8\u4EE5\u4E0A\u304B\u3089\u304A\u9858\u3044\u3057\u307E\u3059\u3002");return}r>0&&(this.products_count=r,this.ready_delivery=1)}},back_delivery(){this.ready_delivery=0},submit_delivery(){this.profile.address?confirm(""+this.products_count+"\u70B9\u306E\u5546\u54C1\u3092\u914D\u9001\u3057\u307E\u3059\u304B\uFF1F")&&this.form.post(route("user.delivery.post"),{onFinish:()=>{}}):alert("\u5165\u529B\u30A8\u30E9\u30FC\u3001\u914D\u9001\u5148\u60C5\u5831\u3092\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044\u3002")}}},N={key:0,style:{"min-height":"400px"},class:"px-4 md:px-8 w-full"},T={class:"pt-3 pb-1 mx-4 px-4 mb-3 border-black"},V=e("h1",{class:"mb-8 text-lg text-center font-bold underline underline-offset-8"},"\xA0\xA0\xA0\u7372\u5F97\u3057\u305F\u5546\u54C1\u4E00\u89A7\xA0\xA0\xA0",-1),D={class:"w-full text-neutral-600 mb-3"},P={class:"grid md:grid-cols-2 gap-1"},U={class:"mt-1 py-2 px-3 hover:bg-sky-50 focus:bg-sky-50"},z={class:"flex border-neutral-200 items-start"},E=["id","onUpdate:modelValue"],M=["for"],S={class:"inline-flex items-center justify-center",style:{width:"128px",height:"128px"}},q={class:"relative inline-block max-w-full max-h-full"},G=["src"],J={key:0,src:"/images/psa10.png",class:"absolute bottom-2 left-1/2 transform -translate-x-1/2 object-contain pointer-events-none",style:{width:"95%"}},K={class:"ml-2 flex flex-col self-stretch justify-around py-3"},Q={class:"text-sm py-1 px-3"},R={class:"text-sm py-1 px-3"},W={key:0,class:"flex bg-[#ff8000] justify-center items-center rounded-full px-3 md:my-1 mx-3 py-1 text-white w-fit"},X=e("img",{src:"/images/icon_cash.png",class:"h-5 mr-2"},null,-1),Y={class:"pb-6 pt-6 text-center text-md text-black"},Z={class:"mb-8 pb-8 text-center text-neutral-50"},$=["disabled"],ee=e("div",null,"\u30DD\u30A4\u30F3\u30C8\u306B\u63DB\u3048\u308B",-1),te=[ee],se=["disabled"],oe=e("div",null,"\u767A\u9001\u3059\u308B",-1),ie=[oe],ne={key:1,class:"pt-6 md:px-2 px-4",style:{"min-height":"400px"}},re=e("h2",{class:"mb-2 text-lg font-bold"},"\u914D\u9001\u5185\u5BB9\u306E\u78BA\u8A8D",-1),ce=e("hr",{class:"mb-6"},null,-1),de={class:"mb-3 text-sm"},le={class:"mb-8"},ae={key:0,class:"mb-0 border-neutral-200 border-b"},ue={class:"flex border-neutral-200 items-center"},he=["src"],be=["for"],_e={class:"text-red-500"},fe=e("div",{class:"mb-2 text-sm"},"\u914D\u9001\u5148\u60C5\u5831",-1),me={class:"mb-8 border border-neutral-200 rounded-md px-4 py-2 flex items-center justify-between"},pe={class:"flex-1"},xe={class:"font-bold text-sm"},ye={class:"text-sm"},ve={class:"text-sm"},ge={class:"mb-8 text-center text-neutral-50"},ke=["disabled"],we=["disabled"],Ce={key:2,class:"pt-6 md:px-2 px-4",style:{"min-height":"400px"}},je=e("h2",{class:"mb-2 text-lg font-bold"},"\u914D\u9001\u624B\u7D9A\u304D\u5B8C\u4E86",-1),Le=e("hr",{class:"mb-8"},null,-1),Oe={class:"mb-8"},Fe=e("br",null,null,-1),Ae=e("br",null,null,-1),Be=e("span",{class:"font-bold"},"\u6570\u65E5~\u6570\u9031\u9593",-1),He=e("br",null,null,-1),Ie={class:"mb-6 text-center text-neutral-50"},Ne=["disabled"];function Te(n,t,r,o,i,h){const k=x("Head"),p=x("Link"),w=x("AdminLayout");return c(),d(u,null,[f(k,{title:"\u7372\u5F97\u3057\u305F\u5546\u54C1\u4E00\u89A7"}),f(w,null,{default:m(()=>[i.ready_delivery==0?(c(),d("div",N,[e("div",T,[V,e("div",D,[(c(!0),d(u,null,y(i.main_tab,(s,v)=>(c(),O(p,{href:s.route_url,class:b(["inline-block md:px-8 px-4 py-1.5",{"bg-[#896858] text-white":s.is_active}])},{default:m(()=>[a(l(s.title),1)]),_:2},1032,["href","class"]))),256))])]),e("div",P,[(c(!0),d(u,null,y(r.products.data,(s,v)=>(c(),d("div",U,[e("div",z,[F(e("input",{id:"checkbox"+s.id,"onUpdate:modelValue":g=>o.form.checks["id"+s.id]=g,type:"checkbox",onChange:t[0]||(t[0]=g=>h.changeCheck()),class:"cursor-pointer border-neutral-300 text-blue-600 shadow-sm focus:ring-0 m-1"},null,40,E),[[A,o.form.checks["id"+s.id]]]),e("label",{for:"checkbox"+s.id,class:"cursor-pointer flex items-start justify-center inline-block text-sm py-1"},[e("div",S,[e("div",q,[e("img",{src:s.image,class:"max-w-full max-h-full w-auto h-auto object-contain",style:{"max-width":"128px","max-height":"128px"}},null,8,G),s.badge==1?(c(),d("img",J)):_("",!0)])]),e("div",K,[e("div",Q,l(s.name),1),e("div",R,l(s.rare),1),s.is_lost_product!=2?(c(),d("div",W,[X,e("span",null,l(s.point)+"\xA0PT",1)])):_("",!0)])],8,M)])]))),256))]),e("div",Y,[i.hasCheck?(c(),d(u,{key:0},[a(" \u9078\u629E\u3057\u305F\u5546\u54C1\u3092... ")],64)):(c(),d(u,{key:1},[a(" \u5546\u54C1\u3092\u9078\u629E\u3057\u3066\u304F\u3060\u3055\u3044\uFF01 ")],64))]),e("div",Z,[e("button",{type:"button",onClick:t[1]||(t[1]=s=>h.submit("point")),class:b([{"opacity-25":o.form.processing||!i.hasCheck},"w-40 inline-block items-center px-4 py-2 bg-[#896858] hover:bg-[#60493d] font-semibold text-sm text-white uppercase tracking-widest active:bg-indigo-900 focus:outline-none focus:border-indigo-900 focus:shadow-outline-blue transition ease-in-out duration-150 m-1"]),disabled:o.form.processing||!i.hasCheck},te,10,$),e("button",{type:"button",onClick:t[2]||(t[2]=s=>h.submit("delivery")),class:b([{"opacity-25":o.form.processing||!i.hasCheck},"w-40 inline-block items-center px-4 py-2 hover:bg-[#896858] bg-[#60493d] font-semibold text-sm text-white uppercase tracking-widest active:bg-indigo-500 focus:outline-none focus:border-indigo-500 focus:shadow-outline-lime transition ease-in-out duration-150 m-1"]),disabled:o.form.processing||!i.hasCheck},ie,10,se)])])):_("",!0),i.ready_delivery==1?(c(),d("div",ne,[re,ce,e("div",de,"\u914D\u9001\u5546\u54C1 \uFF08\u8A08"+l(i.products_count)+"\u70B9\uFF09",1),e("div",le,[(c(!0),d(u,null,y(r.products.data,(s,v)=>(c(),d(u,null,[o.form.checks["id"+s.id]?(c(),d("div",ae,[e("div",ue,[e("img",{src:s.image,class:"w-12 h-12 inline-block object-contain"},null,8,he),e("label",{for:"checkbox"+s.id,class:"cursor-pointer h-12 flex items-center justify-between flex-1 inline-block text-xs py-1 px-2"},[e("div",null,[e("div",null,l(s.name),1),e("div",null,l(s.rare),1),e("div",_e,l(s.point)+"pt",1)])],8,be)])])):_("",!0)],64))),256))]),fe,e("div",me,[e("div",pe,[r.profile.id?(c(),d(u,{key:0},[e("p",xe,l(r.profile.first_name+r.profile.last_name),1),e("p",ye,"\u3012"+l(r.profile.postal_code),1),e("p",ve,l(r.profile.address),1)],64)):_("",!0)]),e("div",null,[f(p,{href:n.route("user.address"),type:"button",onClick:t[3]||(t[3]=s=>h.back_delivery()),class:b([{"opacity-25":o.form.processing||!i.hasCheck},"inline-block items-center px-5 py-1.5 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest bg-[#896858] hover:bg-[#60493d] active:bg-neutral-700 focus:outline-none focus:border-neutral-700 focus:shadow-outline-neutral transition ease-in-out duration-150 m-1"]),disabled:o.form.processing||!i.hasCheck},{default:m(()=>[a(" \u7DE8\u96C6 ")]),_:1},8,["href","class","disabled"])])]),e("div",ge,[e("button",{type:"button",onClick:t[4]||(t[4]=s=>h.back_delivery()),class:b([{"opacity-25":o.form.processing||!i.hasCheck},"w-32 inline-block items-center px-1 py-2.5 border border-transparent font-semibold text-xs text-white uppercase bg-[#896858] hover:bg-[#60493d] tracking-widest active:bg-cyan-700 focus:outline-none focus:border-cyan-700 focus:shadow-outline-cyan transition ease-in-out duration-150 m-1"]),disabled:o.form.processing||!i.hasCheck}," \u623B\u308B ",10,ke),e("button",{type:"button",onClick:t[5]||(t[5]=s=>h.submit_delivery()),class:b([{"opacity-25":o.form.processing||!i.hasCheck},"w-32 inline-block items-center px-1 py-2.5 border border-transparent font-semibold text-xs text-white uppercase hover:bg-[#896858] bg-[#60493d] tracking-widest active:bg-red-700 focus:outline-none focus:border-red-700 focus:shadow-outline-red transition ease-in-out duration-150 m-1"]),disabled:o.form.processing||!i.hasCheck}," \u767A\u9001\u3059\u308B ",10,we)])])):_("",!0),i.ready_delivery==2?(c(),d("div",Ce,[je,Le,e("div",Oe,[a(" \u8A08"+l(i.products_count)+"\u70B9\u306E\u5546\u54C1\u306E\u914D\u9001\u624B\u7D9A\u304D\u304C\u5B8C\u4E86\u3057\u307E\u3057\u305F\u3002",1),Fe,Ae,a(" \u5546\u54C1\u306E\u767A\u9001\u306B\u306F"),Be,a("\u304B\u304B\u308B\u53EF\u80FD\u6027\u304C\u3054\u3056\u3044\u307E\u3059\u3002"),He,a(" \u3054\u4E86\u627F\u306E\u307B\u3069\u3088\u308D\u3057\u304F\u304A\u9858\u3044\u81F4\u3057\u307E\u3059\u3002 ")]),e("div",Ie,[f(p,{href:n.route("main"),class:"w-36 inline-block items-center px-1 py-2.5 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest active:bg-red-700 focus:outline-none focus:border-red-700 focus:shadow-outline-red transition ease-in-out duration-150 m-1 bg-[#896858] hover:bg-[#60493d]"},{default:m(()=>[a(" \u30AC\u30C1\u30E3TOP\u3078 ")]),_:1},8,["href"]),e("button",{type:"button",onClick:t[6]||(t[6]=s=>h.back_delivery()),class:b([{"opacity-25":o.form.processing||!i.hasCheck},"w-36 inline-block items-center px-1 py-2.5 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest active:bg-cyan-700 focus:outline-none focus:border-cyan-700 focus:shadow-outline-cyan transition ease-in-out duration-150 m-1 hover:bg-[#896858] bg-[#60493d]"]),disabled:o.form.processing||!i.hasCheck}," \u7372\u5F97\u3057\u305F\u5546\u54C1\u4E00\u89A7\u3078 ",10,Ne)])])):_("",!0)]),_:1})],64)}const ze=H(I,[["render",Te]]);export{ze as default};
