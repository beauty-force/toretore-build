import{L as h,h as l,K as g,r as _,o,c as n,b as e,F as m,a as b,w as f,g as p,f as d,t as i,n as v,j as x}from"./app.2537cd21.js";import{_ as y}from"./_plugin-vue_export-helper.cdc0426e.js";import{r as w}from"./PlayIcon.d21351e9.js";const k={components:{Link:h,PlayIcon:w},props:{gacha:Object,url_edit:String},data(){return{category_share:l().props.value.category_share,url_card:"",url_10gacha:"",url_1gacha:"",str_gacha10:"",point_10gacha:0}},methods:{get_progress_value(){let t=Math.round(this.gacha.count_rest*100/this.gacha.count_card),a="bg-red-500";return t>33&&(a="bg-yellow-500"),t>66&&(a="bg-green-500"),{value:t,bg_color:a}},format_number(t){return String(t).replace(/(.)(?=(\d{3})+$)/g,"$1,")},getImageClass(t){return"url('"+t+"')"},clickCard(){var t;(this.gacha.count_rest>0||((t=l().props.value.auth.user)==null?void 0:t.type)>0)&&(window.location.href=this.url_card)},destroyGacha(t){confirm("\u524A\u9664\u3057\u3066\u3082\u3044\u3044\u3067\u3059\u304B\uFF1F")&&g.Inertia.delete(route("admin.gacha.destroy",{id:t}))}},mounted(){this.gacha.count_rest<10?(this.str_gacha10="\u5168\u3066",this.point_10gacha=this.gacha.count_rest*this.gacha.point):(this.str_gacha10="10\u9023",this.point_10gacha=10*this.gacha.point),this.url_edit||(this.url_card=route("user.gacha",this.gacha.id)+this.category_share.cat_route_appendix)}},C={class:"cursor-pointer border-4 border-[#60493d] mb-0 relative rounded-[20px] shadow w-full bg-cover overflow-hidden bg-[#60493d]"},z=["data-src"],j={key:0,class:"absolute z-20 top-0 left-0 items-center px-2 py-1 bg-green-500 border border-transparent rounded-sm font-semibold text-sm text-white tracking-widest"},G={key:1,class:"absolute z-20 top-0 left-0 items-center px-2 py-1 bg-neutral-500 border border-transparent rounded-sm font-semibold text-sm text-white tracking-widest"},L=e("img",{"data-src":"/images/sold_out.png",class:"w-[75%] lazy"},null,-1),N=[L],S={class:"bottom-0 w-full p-2 rounded-b-[20px]"},V={class:"px-4 text-white"},B={class:"px-1 flex flex-row justify-between mb-1"},I=e("span",{class:"text-sm"},"\u6B8B ",-1),P={class:"font-semibold text-base"},F={class:"text-sm"},T=e("span",{class:"inline-block align-middle pr-2"},[e("img",{class:"h-5",src:"/images/icon_cash.png"})],-1),D={class:"font-semibold"},E=e("span",null,"PT",-1),K={class:"mb-1"},M={class:"w-full bg-gray-200 rounded-full h-4 dark:bg-gray-700 overflow-hidden"};function O(t,a,s,q,A,r){const u=_("Link");return o(),n("div",C,[e("div",{onClick:a[0]||(a[0]=c=>r.clickCard())},[e("img",{"data-src":s.gacha.thumbnail,class:"lazy"},null,8,z)]),s.url_edit?(o(),n(m,{key:0},[b(u,{href:s.url_edit,class:"absolute z-20 top-0 right-0 items-center px-8 py-2.5 bg-green-500 border border-transparent rounded-sm font-semibold text-sm text-white uppercase tracking-widest hover:bg-green-700 active:bg-green-700 focus:outline-none focus:border-green-700 focus:shadow-outline-green transition ease-in-out duration-150"},{default:f(()=>[p(" \u7DE8\u96C6\u3059\u308B ")]),_:1},8,["href"]),s.gacha.status==1?(o(),n("div",j," \u516C\u958B ")):(o(),n("div",G," \u975E\u516C\u958B ")),e("button",{onClick:a[1]||(a[1]=c=>r.destroyGacha(s.gacha.id)),class:"z-20 rounded absolute bottom-0 right-0 px-4 py-2 bg-red-500 text-xs text-neutral-50"}," \u524A\u9664 ")],64)):d("",!0),s.gacha.count_rest==0&&!s.url_edit?(o(),n("div",{key:1,class:"absolute bottom-0 w-full h-full bg-opacity-70 z-10 bg-black flex items-center justify-center",onClick:a[2]||(a[2]=c=>r.clickCard())},N)):d("",!0),e("div",S,[e("div",V,[e("div",B,[e("div",null,[I,e("span",P,i(r.format_number(s.gacha.count_rest)),1),e("span",F,"/"+i(r.format_number(s.gacha.count_card)),1)]),e("div",null,[T,e("span",D,i(r.format_number(s.gacha.point)),1),E])]),e("div",K,[e("div",M,[e("div",{class:v(["h-4 rounded-full",r.get_progress_value().bg_color]),style:x({width:r.get_progress_value().value+"%"})},null,6)])])])])])}const R=y(k,[["render",O]]);export{R as G};
